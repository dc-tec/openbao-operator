# Values for kube-prometheus-stack Helm chart
# This enables Grafana and Prometheus for the test cluster

prometheus:
  enabled: true
  prometheusSpec:
    serviceMonitorSelectorNilUsesHelmValues: false
    podMonitorSelectorNilUsesHelmValues: false
    ruleSelectorNilUsesHelmValues: false
    # Allow Prometheus to discover ServiceMonitors in all namespaces
    serviceMonitorNamespaceSelector: {}
    retention: 7d
    resources:
      requests:
        memory: 512Mi
        cpu: 250m
      limits:
        memory: 1Gi
        cpu: 500m

grafana:
  enabled: true
  adminPassword: admin
  defaultDashboardsEnabled: true
  dashboardProviders:
    dashboardproviders.yaml:
      apiVersion: 1
      providers:
        - name: "default"
          orgId: 1
          folder: ""
          type: file
          disableDeletion: false
          editable: true
          options:
            path: /var/lib/grafana/dashboards/default
  dashboards:
    default:
      openbao-operator:
        gnetId: null
        revision: null
        datasource: Prometheus
  resources:
    requests:
      memory: 128Mi
      cpu: 100m
    limits:
      memory: 256Mi
      cpu: 200m
  service:
    type: ClusterIP
    port: 80

# Disable alertmanager for a simpler test setup
alertmanager:
  enabled: false

# Disable node-exporter, kube-state-metrics for simplicity
# (can be enabled if needed)
nodeExporter:
  enabled: false

kubeStateMetrics:
  enabled: false

