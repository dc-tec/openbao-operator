apiVersion: openbao.org/v1alpha1
kind: OpenBaoCluster
metadata:
  labels:
    app.kubernetes.io/name: openbao-operator
    app.kubernetes.io/managed-by: kustomize
  name: openbaocluster-sample-sentinel
spec:
  version: "2.4.4"
  image: "openbao/openbao:2.4.4"
  replicas: 3
  profile: Development
  tls:
    enabled: true
    rotationPeriod: "720h"
  storage:
    size: "10Gi"
  deletionPolicy: Retain
  # Sentinel drift detection (enabled by default when sentinel is specified)
  sentinel:
    enabled: true
    # Optional: Override Sentinel image (defaults to ghcr.io/dc-tec/openbao-operator-sentinel:<operator-version>)
    # image: "ghcr.io/dc-tec/openbao-operator-sentinel:v2.1.0"
    # Optional: Override resource limits (defaults: 64Mi memory, 100m CPU requests; 128Mi memory, 200m CPU limits)
    # resources:
    #   requests:
    #     memory: "64Mi"
    #     cpu: "100m"
    #   limits:
    #     memory: "128Mi"
    #     cpu: "200m"
    # Optional: Configure debounce window (default: 2 seconds, range: 1-60)
    # debounceWindowSeconds: 2
  # Structured configuration
  configuration:
    # Enable web UI
    ui: true
    # Log level
    logLevel: "info"

