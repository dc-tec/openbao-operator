apiVersion: openbao.org/v1alpha1
kind: OpenBaoCluster
metadata:
  labels:
    app.kubernetes.io/name: openbao-operator
    app.kubernetes.io/managed-by: kustomize
  name: openbaocluster-sample
spec:
  version: "2.4.4"
  version: "2.4.4"
  # image: "openbao/openbao:2.4.4" # Optional: inferred from version
  # Optional: Supply chain security (Cosign image verification + digest pinning).
  # When enabled, verification applies to all operator-managed images for this cluster
  # (StatefulSets, Deployments, and Jobs), including helper images like backup/upgrade executors.
  # imageVerification:
  #   enabled: true
  #   # publicKey: |
  #   #   -----BEGIN PUBLIC KEY-----
  #   #   ...
  #   #   -----END PUBLIC KEY-----
  #   failurePolicy: Block # or Warn
  replicas: 3
  profile: Development
  tls:
    enabled: true
    rotationPeriod: "720h"
  storage:
    size: "10Gi"
  deletionPolicy: Retain
  # Structured configuration
  configuration:
    # Enable web UI
    ui: true
    # Log level
    logLevel: "info"
